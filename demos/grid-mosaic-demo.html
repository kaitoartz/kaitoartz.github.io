<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mosaic Grid Demo</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Jura:wght@300;500;700&display=swap');

        /* RESET & BASE */
        * { box-sizing: border-box; }
        
        body {
            margin: 0;
            background-color: #050505;
            color: #ccc;
            font-family: 'Jura', sans-serif;
            min-height: 100vh;
            display: grid;
            place-items: center;
            padding: 20px;
        }

        h1 {
            position: absolute;
            top: 20px;
            left: 20px;
            margin: 0;
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 2px;
            pointer-events: none;
            mix-blend-mode: difference;
            z-index: 10;
        }

        /* 
           Mosaic Grid Container 
           Adapted from user snippet: "body { display: grid ... }" 
        */
        .mosaic-grid {
            /* Defines the aspect ratio of the main container approx */
            width: 100%;
            max-width: 1000px;
            height: 80vh; /* Fixed height to force the rows */
            
            --gap: 6px;
            display: grid;
            grid-gap: var(--gap);
            grid-template-columns: 1fr 1fr; /* Mobile Default */
            /* The user provided: repeat(2, var(--row-rep, 7fr 3fr 7fr)) 
               which means 6 rows total: 7fr, 3fr, 7fr, 7fr, 3fr, 7fr
            */
            grid-template-rows: repeat(2, var(--row-rep, 7fr 3fr 7fr));
        }

        /* 
           Image Styling 
           Adapted from user snippet: "img { ... }"
        */
        .mosaic-grid > img {
            /* prevent from overflowing its grid-area */
            width: 100%;
            height: 100%;
            /* contain: size;  <-- Caused issues in some browsers if not fully constrained, removed for safety in demo */
            
            /* stretch across its grid-area */
            place-self: stretch;
            object-fit: cover;
            filter: grayscale(0.8) contrast(1.2);
            transition: filter 0.3s ease;
            cursor: pointer;
        }

        .mosaic-grid > img:hover {
            filter: grayscale(0) contrast(1);
            z-index: 1; /* Slight pop */
            outline: 2px solid #E2FF00;
        }

        /* 
           Nth-child logic from user 
        */
        .mosaic-grid > img:nth-child(1) { grid-column: 1/ span 2 }
        .mosaic-grid > img:nth-child(2) { grid-area: 3/ 1/ span 1/ span 2 } /* Row 3, full width */
        
        .mosaic-grid > img:nth-child(3) {
            grid-row: 5;
            object-position: 50% 40%
        }

        .mosaic-grid > img:nth-child(4) { grid-row: 6 }
        .mosaic-grid > img:nth-child(5) { grid-area: 2/ 2 }
        
        .mosaic-grid > img:nth-child(6) {
            grid-area: 4/ 1;
            object-position: 50% 0
        }

        .mosaic-grid > img:nth-child(7) { grid-area: 4/ 2 }
        .mosaic-grid > img:nth-child(8) { grid-row: 5/ span 2 } /* Row 5-6 */
        
        .mosaic-grid > img:nth-child(8n + 1) { object-position: 50% 30% }

        /* The center piece */
        .mosaic-grid > img:last-child {
            --span: / span 2/ span 2;
            grid-area: 3/ 1 var(--span); /* Row 3, Col 1 */
            place-self: center;
            border: solid var(--gap) #fff;
            width: 9em;
            aspect-ratio: 1;
            object-position: 50% 5%;
            border-radius: 50%;
            z-index: 2;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        /* Desktop Media Query */
        @media (min-width: 600px) {
            .mosaic-grid { 
                --row-rep: 1fr 1fr;
                /* On desktop, likely explicitly 4 columns? 
                   The user code implies logic for columns implicitly or explicitly.
                   Looking at "grid-area: 1/ 4", it implies at least 4 columns.
                */
                grid-template-columns: repeat(4, 1fr);
                grid-template-rows: repeat(4, 1fr); /* Simplification for the 1fr 1fr row-rep */
            }
            
            .mosaic-grid > img:nth-child(1) { grid-area: 1/ 1/ span 2 }         /* Top-Left 2x2 height? No, span 2 implies rows or cols? standard is row/col/row/col. Here strict shorthand: row-start / col-start / row-end / col-end */
            /* User snippet: grid-area: 1/ 1/ span 2 (Implicitly col span 1) */

            .mosaic-grid > img:nth-child(2) { grid-area: 1/ 2/ span 2/ span 2 } /* Big block Top-Middle */

            .mosaic-grid > img:nth-child(3) { grid-area: 1/ 4 }                 /* Top Right corner */

            .mosaic-grid > img:nth-child(4) { grid-area: 2/ 4 }                 /* Below top right */

            .mosaic-grid > img:nth-child(5) { grid-area: 3/ 1 }                 /* Bottom Left */

            .mosaic-grid > img:nth-child(6) { grid-area: 3/ 2/ span 2 }         /* Bottom Middle-Left */

            .mosaic-grid > img:nth-child(7) { grid-area: 3/ 3/ span 2 }         /* Bottom Middle-Right */

            .mosaic-grid > img:nth-child(8) { grid-area: 3/ 4/ span 2 }         /* Bottom Right vertical? */

            .mosaic-grid > img:last-child {
                /* Center overlay */
                grid-area: 2/ 2 var(--span); 
                width: 15em;
            }
        }
    </style>
</head>
<body>

    <h1>Mosaic Layout</h1>

    <div class="mosaic-grid">
        <!-- 8 Background Images -->
        <img src="https://picsum.photos/id/10/800/800" alt="Landscape">
        <img src="https://picsum.photos/id/12/800/800" alt="Beach">
        <img src="https://picsum.photos/id/16/800/800" alt="Water">
        <img src="https://picsum.photos/id/24/800/800" alt="Book">
        <img src="https://picsum.photos/id/28/800/800" alt="Forest">
        <img src="https://picsum.photos/id/29/800/800" alt="Mountains">
        <img src="https://picsum.photos/id/41/800/800" alt="Abstract">
        <img src="https://picsum.photos/id/49/800/800" alt="Architecture">

        <!-- 9th Image: The "Avatar" / Centerpiece -->
        <img src="https://picsum.photos/id/64/400/400" alt="Avatar">
    </div>

</body>
</html>
