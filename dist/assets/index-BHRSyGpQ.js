(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();const U=!1,x=(...a)=>U,B=(a,t)=>{let e;return function(...i){const s=this;clearTimeout(e),e=setTimeout(()=>a.apply(s,i),t)}};class V{constructor(){this.fps=60,this.frames=0,this.lastTime=performance.now(),this.history=[],this.isOptimizing=!1,this.update=this.update.bind(this)}update(){const t=performance.now();this.frames++,t>=this.lastTime+1e3&&(this.fps=this.frames,this.frames=0,this.lastTime=t,this.checkPerformance()),requestAnimationFrame(this.update)}checkPerformance(){if(document.hidden||document.querySelector(".boot-overlay")&&document.querySelector(".boot-overlay").style.display!=="none")return;this.history.push(this.fps),this.history.length>5&&this.history.shift();const t=this.history.reduce((e,i)=>e+i,0)/this.history.length;if(t<20&&r.currentPreset!=="low"){console.warn(">> PERF: Critical FPS drop. Enforcing LOW mode immediately."),r.applyPreset("low");return}t<30&&!this.isOptimizing&&r.currentPreset!=="low"&&this.optimize()}optimize(){this.isOptimizing=!0,console.warn(">> PERF: Low FPS detected. Optimizing..."),typeof I<"u"&&I.warning("PERFORMANCE_PROTOCOL","System overloaded. Adjusting quality settings...");const t=["ultra","high","medium","low"],e=t.indexOf(r.currentPreset);if(e<t.length-1){const i=t[e+1]||"low";r.applyPreset(i)}else r.applyPreset("low");setTimeout(()=>{this.isOptimizing=!1},1e4)}}const G=new V;G.update();class _{constructor(){this.effects={matrixRain:!0,parallax:!0,cursorTrail:!0,scanlines:!0,glitch:!0,particles:!0,grid3d:!0,decorations:!0,visualizer:!0},this.currentPreset="auto",this.hardware={cores:navigator.hardwareConcurrency||4,memory:navigator.deviceMemory||4,gpu:"unknown",tier:"high"},this.matrixRainInstance=null,this.parallaxInstance=null,this.cursorInstance=null,this.terminalInstance=null,this.hardware={...this.hardware,...this.detectHardware()}}detectHardware(){const t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),e=navigator.hardwareConcurrency||2,i=navigator.deviceMemory||4,s=navigator.connection||navigator.mozConnection||navigator.webkitConnection,n=s?s.effectiveType:"4g";let l=1,h=!0;navigator.getBattery&&navigator.getBattery().then(u=>{l=u.level,h=u.charging});let c=40;return t&&(c-=30,/Android|iPhone|iPad/i.test(navigator.userAgent)&&(i<4||window.devicePixelRatio>2&&window.screen.width<400)&&(c-=20)),c+=Math.min(e*2.5,20),c+=Math.min(i*4,20),n==="4g"?c+=10:n==="3g"?c-=5:(n==="slow-2g"||n==="2g")&&(c-=20),t&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&(c>60&&(c=Math.min(c,75)),c<40&&(c=45)),c=Math.max(0,Math.min(100,c)),{isMobile:t,cores:e,memory:i,connection:n,batteryLevel:l,isCharging:h,score:c,tier:this.getPerformanceTier(c)}}getPerformanceTier(t){return t>=85?"ultra":t>=70?"high":t>=55?"medium":"low"}applyPreset(t){this.currentPreset=t;const e=t==="low"||t==="auto"&&this.hardware.tier==="low",i=this.hardware.isMobile;e||i?document.body.classList.add("mobile-low-perf"):document.body.classList.remove("mobile-low-perf");const s={auto:this.hardware.tier,ultra:{matrixRain:!0,parallax:!0,cursorTrail:!0,scanlines:!0,glitch:!0,particles:!0,grid3d:!0,decorations:!0,visualizer:!0},high:{matrixRain:!0,parallax:!0,cursorTrail:!1,scanlines:!0,glitch:!1,particles:!1,grid3d:!0,decorations:!0,visualizer:!0},medium:{matrixRain:!this.hardware.isMobile,parallax:!0,cursorTrail:!1,scanlines:!0,glitch:!1,particles:!1,grid3d:!0,decorations:!1,visualizer:!0},low:{matrixRain:!1,parallax:!1,cursorTrail:!1,scanlines:!1,glitch:!1,particles:!1,grid3d:!1,decorations:!1,visualizer:!1}};e?(document.body.classList.add("performance-mode-low"),document.body.classList.add("no-scanlines"),document.body.classList.add("no-glitch"),this.toggleParticles(!1)):(document.body.classList.remove("performance-mode-low"),document.body.classList.remove("no-scanlines"),document.body.classList.remove("no-glitch"));const n=t==="auto"?s[this.hardware.tier]:s[t];Object.keys(n).forEach(l=>{this.effects[l]=n[l],this.toggleEffect(l,n[l],!1)}),this.savePreferences(),x(`Performance preset applied: ${t} (tier: ${this.hardware.tier})`)}toggleEffect(t,e=null,i=!0){const s=e!==null?e:!this.effects[t];switch(this.effects[t]=s,t){case"matrixRain":this.toggleMatrixRain(s);break;case"parallax":this.toggleParallax(s);break;case"cursorTrail":this.toggleCursorTrail(s);break;case"scanlines":this.toggleScanlines(s);break;case"glitch":this.toggleGlitch(s);break;case"particles":this.toggleParticles(s);break;case"grid3d":this.toggleGrid3D(s);break;case"decorations":this.toggleDecorations(s);break;case"visualizer":this.toggleVisualizer(s);break}i&&this.savePreferences(),this.updateUI(t,s)}toggleMatrixRain(t){t&&this.matrixRainInstance?this.matrixRainInstance.start():!t&&this.matrixRainInstance&&this.matrixRainInstance.stop()}toggleParallax(t){document.querySelectorAll(".parallax-layer").forEach(i=>{i.style.display=t?"block":"none"}),t&&this.parallaxInstance&&this.parallaxInstance.requestTick()}toggleCursorTrail(t){const e=document.getElementById("cursorCanvas");if(e&&(e.style.display=t?"block":"none"),this.cursorInstance&&(t?this.cursorInstance.start():this.cursorInstance.stop()),t){document.body.style.cursor="none";const i=document.getElementById("cursor-fix");i&&i.remove()}else{document.body.style.cursor="auto",document.documentElement.style.setProperty("--cursor-type","auto");const i=document.createElement("style");i.id="cursor-fix",i.innerHTML="* { cursor: auto !important; } a, button, .link-block { cursor: pointer !important; }",document.getElementById("cursor-fix")||document.head.appendChild(i)}}toggleScanlines(t){document.body.classList.toggle("no-scanlines",!t)}toggleGlitch(t){document.body.classList.toggle("no-glitch",!t)}toggleParticles(t){document.querySelectorAll(".parallax-shape, .geo-elements, #particle_container, .particle-container").forEach(i=>{i.style.display=t?"block":"none"})}toggleGrid3D(t){const e=document.querySelector(".grid-3d");e&&(e.style.display=t?"block":"none")}toggleDecorations(t){const e=document.querySelector(".tech-decals"),i=document.querySelector(".decal-layer"),s=document.querySelector(".procedural-tech-layer");e&&(e.style.display=t?"block":"none"),i&&(i.style.display=t?"block":"none"),s&&(s.style.display=t?"block":"none")}toggleVisualizer(t){const e=document.querySelector(".visualizer-block");e&&(e.style.display=t?"flex":"none"),typeof M<"u"&&(t?M.start():M.stop())}updateUI(t,e){const i={matrixRain:"matrixStatus",parallax:"parallaxStatus",cursorTrail:"cursorStatus",scanlines:"scanlineStatus",glitch:"glitchStatus",particles:"particlesStatus",particles:"particlesStatus",grid3d:"gridStatus",decorations:"decorStatus",visualizer:"vizStatus"},s=document.getElementById(i[t]);s&&(s.textContent=e?"ON":"OFF",s.classList.toggle("off",!e));const n=document.querySelector(`[data-effect="${t}"]`);n&&n.setAttribute("data-state",e?"on":"off")}updateAllUI(){Object.keys(this.effects).forEach(t=>{this.updateUI(t,this.effects[t])}),document.querySelectorAll(".preset-btn").forEach(t=>{t.classList.toggle("active",t.dataset.preset===this.currentPreset)}),this.updateHardwareInfo()}updateHardwareInfo(){const t=document.getElementById("hardwareInfo");t&&(t.innerHTML=`
                <div class="hardware-info-line">
                    <span class="hardware-info-label">Device:</span>
                    <span class="hardware-info-value">${this.hardware.isMobile?"MOBILE":"DESKTOP"}</span>
                </div>
                <div class="hardware-info-line">
                    <span class="hardware-info-label">CPU Cores:</span>
                    <span class="hardware-info-value">${this.hardware.cores}</span>
                </div>
                <div class="hardware-info-line">
                    <span class="hardware-info-label">RAM:</span>
                    <span class="hardware-info-value">${this.hardware.memory}GB</span>
                </div>
                <div class="hardware-info-line">
                    <span class="hardware-info-label">Performance:</span>
                    <span class="hardware-info-value">${this.hardware.tier.toUpperCase()} (${this.hardware.score}/100)</span>
                </div>
            `)}savePreferences(){localStorage.setItem("performancePreset",this.currentPreset),localStorage.setItem("performanceEffects",JSON.stringify(this.effects))}loadPreferences(){const t=localStorage.getItem("performancePreset"),e=localStorage.getItem("performanceEffects");if(t&&(this.currentPreset=t),e)try{const i=JSON.parse(e);this.effects={...this.effects,...i}}catch{}}init(){this.loadPreferences(),localStorage.getItem("performancePreset")?Object.keys(this.effects).forEach(t=>{this.toggleEffect(t,this.effects[t],!1)}):this.applyPreset("auto"),this.setupEventListeners(),this.updateAllUI(),x("PerformanceManager initialized:",this.hardware)}setupEventListeners(){document.querySelectorAll(".preset-btn").forEach(t=>{t.addEventListener("click",()=>{this.applyPreset(t.dataset.preset),this.updateAllUI()})}),document.querySelectorAll(".effect-toggle").forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.effect;(this.currentPreset==="low"||document.body.classList.contains("performance-mode-low"))&&(document.body.classList.remove("performance-mode-low"),document.body.classList.remove("no-scanlines")),this.toggleEffect(e),this.currentPreset="custom",this.savePreferences(),this.updateAllUI()})})}registerEffect(t,e){t==="matrixRain"&&(this.matrixRainInstance=e),t==="parallax"&&(this.parallaxInstance=e),t==="cursor"&&(this.cursorInstance=e)}}const r=new _;class q{constructor(){this.audioContext=null,this.enabled=!1,this.sounds={},this.bgMusic=null,this.mediaSource=null,this.analyserNode=null,this.boundPlayHover=this.playHover.bind(this),this.audioFiles={background:"assets/audio/background.mp3"}}async init(){this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.enabled=!0,console.log("%c>> AUDIO SYSTEM: INITIALIZED","color: #39FF14; font-family: monospace;"))}playSound(t,e=1,i=!1){if(!(!this.enabled||!this.audioContext))try{const s=new Audio(this.audioFiles[t]);s.volume=e,s.loop=i,s.play().catch(()=>{this.synthesizeSound(t,e)})}catch{this.synthesizeSound(t,e)}}synthesizeSound(t,e){if(!this.audioContext)return;const i=this.audioContext.createOscillator(),s=this.audioContext.createGain();i.connect(s),s.connect(this.audioContext.destination);const n={click:800,hover:600,boot:400,glitch:200,success:1e3};i.frequency.value=n[t]||500,i.type="sine",s.gain.setValueAtTime(e*.3,this.audioContext.currentTime),s.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+.1),i.start(this.audioContext.currentTime),i.stop(this.audioContext.currentTime+.1)}playBackgroundMusic(t=.3){if(!this.enabled||!this.audioContext){console.log("%c>> MUSIC: AudioContext not initialized","color: #FF6B6B; font-family: monospace;");return}if(this.bgMusic&&(this.bgMusic.pause(),this.bgMusic=null),console.log("%c>> MUSIC: Creating audio element...","color: #00FFFF; font-family: monospace;"),this.bgMusic=new Audio(this.audioFiles.background),this.bgMusic.volume=t,this.bgMusic.loop=!0,this.bgMusic.preload="auto",!this.mediaSource&&this.audioContext)try{this.mediaSource=this.audioContext.createMediaElementSource(this.bgMusic),this.analyserNode=this.audioContext.createAnalyser(),this.analyserNode.fftSize=512,this.mediaSource.connect(this.analyserNode),this.analyserNode.connect(this.audioContext.destination),console.log("%c>> AUDIO: Visualizer connected ‚úì","color: #39FF14; font-family: monospace;")}catch(i){console.log("%c>> AUDIO: Visualizer error: "+i.message,"color: #FF6B6B; font-family: monospace;")}this.bgMusic.addEventListener("loadeddata",()=>{console.log("%c>> MUSIC: Audio loaded (duration: "+this.bgMusic.duration+"s)","color: #39FF14; font-family: monospace;")}),this.bgMusic.addEventListener("error",i=>{console.log("%c>> MUSIC: Load error - "+i.target.error.message,"color: #FF6B6B; font-family: monospace;")}),console.log("%c>> MUSIC: Attempting to play...","color: #00FFFF; font-family: monospace;");const e=this.bgMusic.play();e!==void 0&&e.then(()=>{console.log("%c>> MUSIC: ‚ô´ Playing! Volume: "+(t*100).toFixed(0)+"%","color: #39FF14; font-family: monospace;")}).catch(i=>{console.log("%c>> MUSIC: Play blocked - "+i.message,"color: #FF6B6B; font-family: monospace;"),console.log("%c>> MUSIC: User interaction may be required","color: #FFAA00; font-family: monospace;")})}stopBackgroundMusic(){this.bgMusic&&(this.bgMusic.pause(),this.bgMusic.currentTime=0,console.log("%c>> MUSIC: Stopped","color: #FF6B6B; font-family: monospace;"))}setVolume(t){this.bgMusic&&(this.bgMusic.volume=Math.max(0,Math.min(1,t)))}playClick(){this.playSound("click",.5)}playHover(){this.playSound("hover",.2)}playBoot(){this.playSound("boot",.6)}playGlitch(){this.playSound("glitch",.4)}playSuccess(){this.playSound("success",.5)}playTyping(){this.playSound("click",.3)}addHoverListeners(t){const e="a, button, input, textarea, .project-card, .filter-btn",i=s=>{s.removeEventListener("mouseenter",this.boundPlayHover),s.addEventListener("mouseenter",this.boundPlayHover)};t.matches&&t.matches(e)&&i(t),t.querySelectorAll&&t.querySelectorAll(e).forEach(i)}attachGlobalListeners(){this.addHoverListeners(document),new MutationObserver(e=>{e.forEach(i=>{i.addedNodes.forEach(s=>{s.nodeType===1&&this.addHoverListeners(s)})})}).observe(document.body,{childList:!0,subtree:!0}),document.querySelectorAll('input[type="text"], input[type="email"], textarea, .terminal-input'),document.addEventListener("input",e=>{e.target.matches("input, textarea")&&this.playTyping()})}}const o=new q;document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{o.attachGlobalListeners()},1e3)});class j{constructor(){const t=typeof r<"u"&&(r.hardware.isMobile||r.hardware.tier==="low"||r.hardware.tier==="medium");this.config={isLowSpec:t,itemCount:t?6:20,starCount:t?0:150,zGap:800,camSpeed:t?2:2.5,loopSize:0},this.config.loopSize=this.config.itemCount*this.config.zGap,this.texts=["KAITOARTZ","NEW","PORTFOLIO","WEB","TECHNICAL","ARTIST","PIXEL","HYPER","NEON","VOID"],this.state={scroll:0,velocity:0,targetSpeed:0,mouseX:0,mouseY:0,active:!0,warping:!1,fading:!1},this.items=[],this.rafId=null,this.frameCount=0,this.lenis=null,this.winW=window.innerWidth,this.winH=window.innerHeight}init(){document.getElementById("hyper-intro-layer")&&(this.world=document.getElementById("intro-world"),this.viewport=document.getElementById("intro-viewport"),document.body.classList.add("no-scroll"),this.createWorld(),this.initLenis(),this.bindEvents(),this.startLoop(),console.log("%c>> HYPER INTRO: SYSTEM ONLINE","color: #E2FF00; font-family: monospace;"))}createWorld(){if(this.world){for(let t=0;t<this.config.itemCount;t++){const e=document.createElement("div");if(e.className="intro-item",t%4===0){const s=document.createElement("div");s.className="intro-big-text",s.innerText=this.texts[t%this.texts.length],e.appendChild(s),this.items.push({el:e,type:"text",x:0,y:0,rot:0,baseZ:-t*this.config.zGap,currentAlpha:-1,currentTrans:null})}else{const s=document.createElement("div");s.className="intro-card";const n=Math.floor(Math.random()*9999);s.innerHTML=`
                    <div class="intro-card-header">
                        <span class="intro-card-id">ID-${n}</span>
                        <div style="width: 10px; height: 10px; background: var(--intro-accent);"></div>
                    </div>
                    <h2>${this.texts[t%this.texts.length]}</h2>
                    <div class="intro-card-footer">
                        <span>GRID: ${Math.floor(Math.random()*10)}x${Math.floor(Math.random()*10)}</span>
                        <span>DATA_SIZE: ${(Math.random()*100).toFixed(1)}MB</span>
                    </div>
                    <div style="position:absolute; bottom:2rem; right:2rem; font-size:4rem; opacity:0.1; font-weight:900;">0${t}</div>
                `,e.appendChild(s);const l=t/this.config.itemCount*Math.PI*6,h=Math.cos(l)*(window.innerWidth*.3),c=Math.sin(l)*(window.innerHeight*.3),u=(Math.random()-.5)*30;this.items.push({el:e,type:"card",x:h,y:c,rot:u,baseZ:-t*this.config.zGap,currentAlpha:-1,currentTrans:null})}this.world.appendChild(e)}for(let t=0;t<this.config.starCount;t++){const e=document.createElement("div");e.className="intro-star",this.world.appendChild(e),this.items.push({el:e,type:"star",x:(Math.random()-.5)*3e3,y:(Math.random()-.5)*3e3,baseZ:-Math.random()*this.config.loopSize,currentAlpha:-1,currentTrans:null})}}}initLenis(){typeof Lenis<"u"&&!r.hardware.isMobile&&(this.lenis=new Lenis({smooth:!0,lerp:.08,direction:"vertical",gestureDirection:"vertical",smoothTouch:!1,touchMultiplier:2}),this.lenis.on("scroll",({scroll:t,velocity:e})=>{!this.state.warping&&this.state.active&&(this.state.scroll=t,this.state.targetSpeed=e)}))}bindEvents(){this.handleMouseMove=e=>{this.state.active&&(this.state.mouseX=(e.clientX/this.winW-.5)*2,this.state.mouseY=(e.clientY/this.winH-.5)*2)},window.addEventListener("mousemove",this.handleMouseMove,{passive:!0}),this.handleTouch=e=>{if(!this.state.active||!e.touches.length)return;const i=e.touches[0];this.state.mouseX=(i.clientX/this.winW-.5)*2,this.state.mouseY=(i.clientY/this.winH-.5)*2},window.addEventListener("touchstart",this.handleTouch,{passive:!0}),window.addEventListener("touchmove",this.handleTouch,{passive:!0}),this.handleResize=B(()=>{this.winW=window.innerWidth,this.winH=window.innerHeight},200),window.addEventListener("resize",this.handleResize,{passive:!0});const t=document.getElementById("enterSystemBtn");t&&t.addEventListener("click",()=>this.warpAndEnter())}async warpAndEnter(){if(this.state.warping)return;this.state.warping=!0,console.log("%c>> HYPER INTRO: WARP ENGAGED","color: #E2FF00; font-family: monospace;"),await o.init(),o.playBoot(),o.playBackgroundMusic();const t=document.getElementById("enterSystemBtn");t&&(t.innerText="ACCESSING...",t.style.borderColor="#fff",t.style.color="#fff"),this.config.isLowSpec&&(this.loadBodyContentSynchronously(),this.waitForContentReady().then(()=>{}))}loadBodyContentSynchronously(){const t=document.getElementById("body-content");t&&(document.body.classList.add("preparing-system"),t.offsetHeight)}waitForContentReady(){const t=this.config.isLowSpec?1500:500;return new Promise(e=>setTimeout(e,t))}startLoop(){const t=document.getElementById("intro-vel-readout"),e=document.getElementById("intro-fps"),i=document.getElementById("intro-coord");let s=0;const n=l=>{if(!this.state.active)return;this.rafId=requestAnimationFrame(n),this.frameCount++,this.lenis&&this.lenis.raf(l);const h=l-s;s=l,e&&this.frameCount%10===0&&(e.innerText=Math.round(1e3/h)||60),this.state.warping&&(this.state.targetSpeed=150,this.state.scroll+=this.state.velocity*.5,Math.abs(this.state.velocity)>100&&!this.state.fading&&(this.state.fading=!0,setTimeout(()=>this.endIntro(),this.config.isLowSpec?500:1e3))),this.state.velocity+=(this.state.targetSpeed-this.state.velocity)*.05;const c=this.config.isLowSpec||document.body.classList.contains("performance-mode-low");if(this.frameCount%6===0&&(t&&(t.innerText=Math.abs(this.state.velocity).toFixed(2)),i&&(i.innerText=this.state.scroll.toFixed(0))),!c||r.hardware.isMobile){const d=this.state.mouseY*5-this.state.velocity*.2,L=this.state.mouseX*5;this.world&&(this.world.style.transform=`rotateX(${d}deg) rotateY(${L}deg)`)}else this.world&&(this.world.style.transform="rotateX(0deg) rotateY(0deg)");const b=1e3-Math.min(Math.abs(this.state.velocity)*5,800);this.viewport&&(this.viewport.style.perspective=`${b}px`);const z=this.state.scroll*this.config.camSpeed;this.items.forEach(d=>{let L=d.baseZ+z;const T=this.config.loopSize;let f=(L%T+T)%T;f>500&&(f-=T);let m=1;if(f<-3e3?m=0:f<-2e3&&(m=(f+3e3)/1e3),f>100&&d.type!=="star"&&(m=1-(f-100)/400),m<0&&(m=0),Math.abs(d.currentAlpha-m)>.001&&(d.el.style.opacity=m,d.currentAlpha=m,c&&(d.el.style.display=m<=0?"none":"flex")),m>0){let y=`translate3d(${d.x}px, ${d.y}px, ${f}px)`;if(d.type==="star"){const E=Math.max(1,Math.min(1+Math.abs(this.state.velocity)*.1,20));y+=` scale3d(1, 1, ${E})`}else if(d.type==="text")if(y+=` rotateZ(${d.rot}deg)`,!c&&Math.abs(this.state.velocity)>2){const E=this.state.velocity*.5;d.el.style.textShadow=`${E}px 0 var(--intro-glitch-1), ${-E}px 0 var(--intro-glitch-2)`}else d.el.style.textShadow="none";else{const E=l*.001;if(c)y+=` rotateZ(${d.rot}deg)`;else{const H=Math.sin(E+d.x)*10;y+=` rotateZ(${d.rot}deg) rotateY(${H}deg)`}}d.currentTrans!==y&&(d.el.style.transform=y,d.currentTrans=y)}})};requestAnimationFrame(n)}endIntro(){const t=document.getElementById("hyper-intro-layer");t&&(this.config.isLowSpec?(t.style.transition="opacity 0.5s ease-out",t.style.opacity=0):(t.style.transition="opacity 0.8s ease-out, filter 0.8s ease-out",t.style.opacity=0,t.style.filter="brightness(2) blur(10px)"),setTimeout(()=>{t.style.display="none",this.state.active=!1,this.lenis&&this.lenis.destroy(),this.handleMouseMove&&window.removeEventListener("mousemove",this.handleMouseMove),this.handleTouch&&(window.removeEventListener("touchstart",this.handleTouch),window.removeEventListener("touchmove",this.handleTouch)),this.handleResize&&window.removeEventListener("resize",this.handleResize),document.body.classList.add("system-ready"),document.body.classList.remove("preparing-system");const e=document.querySelector(".control-dock");e&&document.body.appendChild(e),document.body.classList.remove("no-scroll"),window.scrollTo(0,0),document.documentElement.scrollTop=0;const i=document.querySelector("main");i&&(i.style.animation="fadeIn 1s ease forwards"),typeof g<"u"&&typeof r<"u"&&r.effects.matrixRain&&g.start(!0)},800))}}const k=new j;document.addEventListener("DOMContentLoaded",()=>{k.init()});const O=()=>{const a=document.getElementById("systemTime");a&&(a.textContent=new Date().toTimeString().split(" ")[0])};document.addEventListener("DOMContentLoaded",()=>{O(),setInterval(O,1e3)});const Y=(a,t,e=1500)=>{let i=0;const s=e/30,n=t/s,l=setInterval(()=>{i=Math.min(i+n,t),a.textContent=Math.floor(i).toString().padStart(2,"0"),i>=t&&clearInterval(l)},30)},$=new IntersectionObserver(a=>{a.forEach(t=>{t.isIntersecting&&!t.target.classList.contains("counted")&&(Y(t.target,parseInt(t.target.dataset.count,10)),t.target.classList.add("counted"),$.unobserve(t.target))})},{threshold:.5});document.querySelectorAll("[data-count]").forEach(a=>$.observe(a));const A=document.getElementById("consoleFeed"),D=["INITIALIZING NEURAL INTERFACE...","LOADING SPATIAL ANCHORS // OK","BIOMETRIC SCAN COMPLETE // PASS","SHADER COMPILATION // 100%","ASSET BUNDLES LOADED // 2.3GB","VR HEADSET DETECTED // READY","HAND TRACKING ACTIVE // CALIBRATED","MULTIPLAYER SESSION // CONNECTED","VOLUMETRIC RENDERING // ONLINE","HAPTIC FEEDBACK // ENABLED","AUDIO SPATIALIZER // ACTIVE","PHYSICS ENGINE // RUNNING"];function R(){const t=new Date().toTimeString().split(" ")[0],e=D[Math.floor(Math.random()*D.length)],i=document.createElement("div");for(i.className="console-line",i.innerHTML=`<span>${t}</span><span>${e}</span>`,A.prepend(i);A.childNodes.length>5;)A.removeChild(A.lastChild)}setTimeout(()=>{R(),setInterval(R,3e3)},3500);const W=document.getElementById("lastSync"),K=new Date;W.textContent=K.toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"});const J=document.querySelectorAll(".link-block");J.forEach(a=>{a.addEventListener("mouseenter",function(){const t=this.dataset.id;o.playHover(),console.log(`%c>> ACCESS LINK_${t}`,"color: #39FF14; font-family: monospace; font-size: 12px;")}),a.addEventListener("click",function(t){o.playClick(),this.style.transform="scale(0.98)",setTimeout(()=>{this.style.transform=""},100)})});document.addEventListener("keydown",a=>{a.key===P[w]?(w++,w===P.length&&(S.konamiCode(),w=0)):w=0,(a.ctrlKey||a.metaKey)&&a.key==="k"&&(a.preventDefault(),S.open()),(a.ctrlKey||a.metaKey)&&a.key==="m"&&(a.preventDefault(),o.bgMusic&&!o.bgMusic.paused?o.stopBackgroundMusic():o.playBackgroundMusic(.2)),(a.ctrlKey||a.metaKey)&&a.key==="/"&&(a.preventDefault(),F.open()),a.key==="Escape"&&(S.close(),F.close()),(a.key==="h"||a.key==="H")&&a.target.tagName!=="INPUT"&&window.scrollTo({top:0,behavior:"smooth"}),(a.key==="c"||a.key==="C")&&a.target.tagName!=="INPUT"&&document.querySelector(".console-block")?.scrollIntoView({behavior:"smooth"})});console.log("%c","padding: 40px; line-height: 40px;");console.log(`%c‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†
  SECTOR_07 INTERFACE ACCESS
  SYS_V.2.0.226 | KA-0226-MX07
  ¬© 2026 KAITOARTZ
‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†`,"color: #39FF14; font-family: monospace; font-size: 12px; font-weight: bold;");function X(a,t=!1){if(!t&&typeof r<"u"&&!r.effects.glitch)return;const e=a.getAttribute("data-original-text")||a.textContent;a.getAttribute("data-original-text")||a.setAttribute("data-original-text",e);const i="!<>-_\\/[]{}‚Äî=+*^?#________";let s=0;a.dataset.glitchInterval&&clearInterval(parseInt(a.dataset.glitchInterval));const n=setInterval(()=>{a.textContent=e.split("").map((l,h)=>h<s?e[h]:l===" "?" ":i[Math.floor(Math.random()*i.length)]).join(""),s>=e.length&&(clearInterval(n),a.textContent=e,delete a.dataset.glitchInterval),s+=1/3},30);a.dataset.glitchInterval=n}setInterval(()=>{if(Math.random()>.8){const a=document.querySelector(".main-title");a&&(X(a),o.playGlitch())}},1e4);function Z(){const a=document.createElement("div");a.className="particle-container",document.body.appendChild(a);for(let t=0;t<20;t++){const e=document.createElement("div");e.className="particle",e.style.left=Math.random()*100+"%",e.style.animationDelay=Math.random()*10+"s",e.style.animationDuration=15+Math.random()*10+"s",a.appendChild(e)}}setTimeout(Z,3500);document.querySelectorAll(".link-block").forEach((a,t)=>{a.setAttribute("tabindex",t+1),a.setAttribute("role","button")});"PerformanceObserver"in window&&new PerformanceObserver(t=>{for(const e of t.getEntries())e.entryType==="largest-contentful-paint"&&console.log(`%c>> LCP: ${e.renderTime||e.loadTime}ms`,"color: #39FF14; font-family: monospace; font-size: 11px;")}).observe({entryTypes:["largest-contentful-paint"]});console.log("%c>> SYSTEM READY. AWAITING INPUT.","color: #39FF14; font-family: monospace;");class Q{constructor(){this.theme=localStorage.getItem("theme")||"dark",this.colorTheme=localStorage.getItem("colorTheme")||"default",this.toggleButton=null,this.toggleLabel=null,this.overlay=null}init(){this.toggleButton=document.getElementById("themeToggle"),this.toggleLabel=document.getElementById("toggleLabel"),this.applyTheme(this.theme,!1),this.setColorTheme(this.colorTheme,!1),this.toggleButton&&this.toggleButton.addEventListener("click",t=>this.handleToggle(t)),this.initColorButtons()}initColorButtons(){const t=document.querySelectorAll(".color-btn");t.forEach(e=>{e.addEventListener("click",()=>{const i=e.dataset.color;this.setColorTheme(i,!0),t.forEach(s=>s.classList.remove("active")),e.classList.add("active"),o.playClick()}),e.dataset.color===this.colorTheme?e.classList.add("active"):e.classList.remove("active")})}setColorTheme(t,e=!0){document.body.classList.remove("theme-pink","theme-orange","theme-white"),t!=="default"&&document.body.classList.add(`theme-${t}`),this.colorTheme=t,localStorage.setItem("colorTheme",t),e&&console.log(`%c>> COLOR_THEME: ${t.toUpperCase()}_ACTIVATED`,"color: var(--toxic-green); font-family: monospace;")}handleToggle(t){let e=window.innerWidth/2,i=window.innerHeight/2;if(this.toggleButton){const s=this.toggleButton.getBoundingClientRect();e=s.left+s.width/2,i=s.top+s.height/2}o.playClick(),this.theme=this.theme==="dark"?"light":"dark",this.animateTransition(e,i,()=>{this.applyTheme(this.theme,!0)}),localStorage.setItem("theme",this.theme)}animateTransition(t,e,i){const s=document.createElement("div");s.style.cssText=`
            position: fixed;
            inset: 0;
            z-index: 10004;
            background: ${this.theme==="dark"?"#111111":"#FFFFFF"};
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
            pointer-events: none;
        `,document.body.appendChild(s),requestAnimationFrame(()=>{s.style.opacity="1"}),setTimeout(()=>{i&&i(),setTimeout(()=>{s.style.opacity="0",setTimeout(()=>{s.remove()},400)},50)},400)}applyTheme(t,e=!1){t==="light"?(document.body.classList.add("light-theme"),this.toggleButton&&this.toggleButton.classList.add("light"),this.toggleLabel&&(this.toggleLabel.textContent="DAY_MODE"),e&&console.log("%c>> THEME_SWITCH: DAY_MODE_ACTIVATED","color: #FFD700; font-family: monospace;")):(document.body.classList.remove("light-theme"),this.toggleButton&&this.toggleButton.classList.remove("light"),this.toggleLabel&&(this.toggleLabel.textContent="NIGHT_MODE"),e&&console.log("%c>> THEME_SWITCH: NIGHT_MODE_ACTIVATED","color: #39FF14; font-family: monospace;"))}}const v=new Q;document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{v.init()},100)});class tt{constructor(){this.canvas=null,this.ctx=null,this.cursor={x:0,y:0},this.maxTrail=20,this.trail=new Array(this.maxTrail).fill(null).map(()=>({x:0,y:0,life:0})),this.head=0,this.running=!1,this.looping=!1,this.animationId=null,this.rgb={r:57,g:255,b:20}}init(){if(this.canvas=document.getElementById("cursorCanvas"),!this.canvas)return;this.ctx=this.canvas.getContext("2d"),this.resize(),this.updateColor(),document.addEventListener("mousemove",e=>{if(!this.running)return;this.cursor.x=e.clientX,this.cursor.y=e.clientY;const i=this.trail[this.head];i.x=e.clientX,i.y=e.clientY,i.life=1,this.head=(this.head+1)%this.maxTrail,this.looping||(this.looping=!0,this.animate())},{passive:!0}),window.addEventListener("resize",B(()=>this.resize(),200)),new MutationObserver(()=>{this.updateColor()}).observe(document.body,{attributes:!0,attributeFilter:["class"]}),typeof r<"u"?(r.registerEffect("cursor",this),r.effects.cursorTrail&&this.start()):this.start()}updateColor(){const t=getComputedStyle(document.body).getPropertyValue("--toxic-green").trim();t&&(this.rgb=this.hexToRgb(t))}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.running&&!this.looping&&(this.looping=!0,this.animate())}start(){this.running||(this.running=!0,this.looping||(this.looping=!0,this.animate()))}stop(){this.running=!1,this.looping=!1,this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null),this.ctx&&this.canvas&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let t=0;t<this.trail.length;t++)this.trail[t].life=0}animate(){if(!this.running){this.looping=!1;return}this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const{r:t,g:e,b:i}=this.rgb;for(let c=0;c<this.maxTrail;c++){const u=(this.head+c)%this.maxTrail,p=this.trail[u];if(p.life>0&&(p.life-=.05,p.life>0)){const b=3*p.life;this.ctx.fillStyle=`rgba(${t}, ${e}, ${i}, ${p.life*.5})`,this.ctx.fillRect(p.x-b/2,p.y-b/2,b,b)}}const{x:s,y:n}=this.cursor,l=20;if(this.ctx.strokeStyle=`rgb(${t}, ${e}, ${i})`,this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.arc(s,n,l/2,0,Math.PI*2),this.ctx.moveTo(s-l,n),this.ctx.lineTo(s+l,n),this.ctx.moveTo(s,n-l),this.ctx.lineTo(s,n+l),this.ctx.stroke(),this.ctx.fillStyle=`rgb(${t}, ${e}, ${i})`,this.ctx.fillRect(s-1,n-1,2,2),!this.trail.some(c=>c.life>0)){this.looping=!1,this.animationId=null;return}this.animationId=requestAnimationFrame(()=>this.animate())}hexToRgb(t){if(!t)return{r:57,g:255,b:20};const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:57,g:255,b:20}}}class et{constructor(){this.slider=null,this.value=null,this.icon=null}init(){this.slider=document.getElementById("volumeSlider"),this.value=document.getElementById("volumeValue"),this.icon=document.getElementById("volumeIcon"),this.slider&&(this.slider.addEventListener("input",t=>{const e=parseInt(t.target.value);this.value.textContent=e+"%",o.setVolume(e/100),this.icon.textContent=e===0?"üîá":e<50?"üîâ":"üîä"}),this.icon.addEventListener("click",()=>{const t=parseInt(this.slider.value);this.slider.value=t>0?(this.slider.dataset.lastVolume=t,0):this.slider.dataset.lastVolume||20,this.slider.dispatchEvent(new Event("input")),o.playClick()}))}}class it{constructor(){this.modal=null,this.output=null,this.input=null,this.backdrop=null,this.history=[],this.historyIndex=-1,this.commands={help:()=>this.showHelp(),about:()=>this.showAbout(),skills:()=>this.showSkills(),projects:()=>this.showProjects(),contact:()=>this.showContact(),clear:()=>this.clearOutput(),exit:()=>this.close(),quit:()=>this.close(),theme:t=>this.toggleTheme(t),audio:t=>this.audioControl(t),matrix:()=>this.toggleMatrix(),parallax:()=>this.toggleParallaxEffect(),cursor:()=>this.toggleCursorEffect(),scanlines:()=>this.toggleScanlinesEffect(),glitch:()=>this.toggleGlitchEffect(),particles:()=>this.toggleParticlesEffect(),performance:t=>this.setPerformance(t),fps:t=>this.setMatrixFPS(t),konami:()=>this.konamiCode(),hack:()=>this.hackEffect(),time:()=>this.showTime(),whoami:()=>this.whoami(),ls:()=>this.listFiles(),cat:t=>this.readFile(t)}}init(){this.modal=document.getElementById("terminalModal"),this.output=document.getElementById("terminalOutput"),this.input=document.getElementById("terminalInput"),this.modal&&(this.backdrop=document.createElement("div"),this.backdrop.className="modal-backdrop",this.backdrop.addEventListener("click",()=>this.close()),document.body.appendChild(this.backdrop),document.getElementById("terminalClose").addEventListener("click",()=>this.close()),this.input.addEventListener("keydown",t=>{t.key==="Enter"?(this.executeCommand(this.input.value.trim()),this.input.value=""):t.key==="ArrowUp"?(t.preventDefault(),this.historyIndex<this.history.length-1&&(this.historyIndex++,this.input.value=this.history[this.history.length-1-this.historyIndex])):t.key==="ArrowDown"&&(t.preventDefault(),this.historyIndex>0?(this.historyIndex--,this.input.value=this.history[this.history.length-1-this.historyIndex]):(this.historyIndex=-1,this.input.value=""))}))}open(){this.modal.classList.add("active"),this.backdrop.classList.add("active"),this.input.focus(),document.body.classList.add("no-scroll"),o.playSuccess()}close(){this.modal.classList.remove("active"),this.backdrop.classList.remove("active"),document.body.classList.remove("no-scroll"),o.playClick()}executeCommand(t){if(!t)return;this.history.push(t),this.historyIndex=-1;const[e,...i]=t.split(" "),s=i.join(" ");this.addOutput(`<span class="terminal-prompt">$ </span>${t}`,!1),this.commands[e.toLowerCase()]?this.commands[e.toLowerCase()](s):this.addOutput(`Command not found: ${e}. Type 'help' for available commands.`),o.playClick()}addOutput(t,e=!0){const i=document.createElement("div");i.className="terminal-line",i.innerHTML=t,this.output.appendChild(i),this.output.scrollTop=this.output.scrollHeight}clearOutput(){this.output.innerHTML='<div class="terminal-line"><span class="terminal-prompt">$ </span><span>Terminal cleared</span></div>'}showHelp(){this.addOutput(`
Available commands:<br/>
‚Ä¢ help - Show this help message<br/>
‚Ä¢ about - Information about KAITOARTZ<br/>
‚Ä¢ skills - Display skills and technologies<br/>
‚Ä¢ projects - Show recent projects<br/>
‚Ä¢ contact - Contact information<br/>
‚Ä¢ theme [dark/light] - Switch theme<br/>
‚Ä¢ audio [play/stop/test] - Control background music<br/>
<br/>
<span style="color: #00FFFF;">VISUAL EFFECTS:</span><br/>
‚Ä¢ matrix - Toggle Matrix rain effect<br/>
‚Ä¢ parallax - Toggle parallax layers<br/>
‚Ä¢ cursor - Toggle cursor trail<br/>
‚Ä¢ scanlines - Toggle CRT scanlines<br/>
‚Ä¢ glitch - Toggle glitch effects<br/>
‚Ä¢ particles - Toggle particle effects<br/>
<br/>
<span style="color: #FFD700;">PERFORMANCE:</span><br/>
‚Ä¢ performance [ultra/high/medium/low] - Set performance preset<br/>
‚Ä¢ fps [number] - Set Matrix rain FPS (12-60)<br/>
<br/>
‚Ä¢ time - Show current system time<br/>
‚Ä¢ whoami - Display user info<br/>
‚Ä¢ ls - List files<br/>
‚Ä¢ cat [file] - Read file contents<br/>
‚Ä¢ hack - Simulate hacking sequence<br/>
‚Ä¢ clear - Clear terminal<br/>
‚Ä¢ exit/quit - Close terminal<br/>
‚Ä¢ konami - ??? (try the Konami code)
        `)}showAbout(){this.addOutput(`
<span style="color: #00ff00;">‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó</span><br/>
<span style="color: #00ff00;">‚ïë</span>  KAITOARTZ - GAME DEVELOPER    <span style="color: #00ff00;">‚ïë</span><br/>
<span style="color: #00ff00;">‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù</span><br/>
<br/>
Game Developer & Designer | Egresado en Artes<br/>
y Tecnolog√≠as de la Comunicaci√≥n | Jammer<br/>
Speaker | Especialista en Unity & VR<br/>
<br/>
Propongo planes de acci√≥n y organizo equipos<br/>
en torno a la materializaci√≥n de videojuegos,<br/>
desde su origen conceptual hasta su publicaci√≥n.<br/>
<br/>
S/N: KA-0226-MX07 | NODE_07
        `)}showSkills(){this.addOutput(`
    <div style="border-bottom: 1px solid var(--toxic-green); margin-bottom: 10px; padding-bottom: 5px;">
        <span style="color: var(--toxic-green); font-weight: bold;">>> SYSTEM_ANALYSIS // SKILLS_MATRIX</span>
    </div>
    <span style="color: #00ff00;">TECHNICAL_SKILLS:</span><br/>
    ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì Unity/C# [95%]<br/>
‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñë C# / JavaScript [90%]<br/>
‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñë‚ñë VR/AR Development [85%]<br/>
‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë 3D Modeling [75%]<br/>
‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñë Shader Programming [90%]<br/>
‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñë‚ñë Web Technologies [80%]
        `)}showProjects(){this.addOutput(`
<span style="color: #00ff00;">RECENT_PROJECTS:</span><br/>
<br/>
[01] VR_GALLERY - Immersive art exhibition<br/>
[02] NEURAL_INTERFACE - Brain-computer integration<br/>
[03] HOLOGRAM_SIM - Real-time holographic display<br/>
[04] EDU_XR - Educational VR platform<br/>
<br/>
Visit portfolio for more details...
        `)}showContact(){this.addOutput(`
<span style="color: #00ff00;">CONTACT_PROTOCOL:</span><br/>
<br/>
üìß EMAIL: kaitoartz.info@gmail.com<br/>
üì± PHONE: +569 46817299<br/>
üìç LOC: Maip√∫, Santiago, Chile<br/>
üíº LINKEDIN: linkedin.com/in/kaitoarts<br/>
üêô GITHUB: github.com/kaitoartz<br/>
üéÆ ITCH.IO: kaitoartz.itch.io<br/>
<br/>
STATUS: <span style="color: #00ff00;">ONLINE</span> | ACCEPTING_COLLABORATIONS
        `)}toggleTheme(t){if(!t){this.addOutput("Usage: theme [dark/light/pink/orange/white/default]");return}const e=t.toLowerCase();e==="dark"||e==="light"?(v.theme=e==="dark"?"light":"dark",v.theme!==e?v.handleToggle({}):this.addOutput(`Already in ${e} mode`)):["pink","orange","white","default"].includes(e)?(v.setColorTheme(e,!0),this.addOutput(`Accent color set to: <span style="color: var(--toxic-green)">${e.toUpperCase()}</span>`)):(this.addOutput(`Unknown theme/color: ${e}`),this.addOutput("Available: dark, light, pink, orange, white, default"))}audioControl(t){t==="play"?(o.playBackgroundMusic(.3),this.addOutput('<span style="color: #39FF14;">‚ô´ Background music started (30% volume)</span>')):t==="stop"?(o.stopBackgroundMusic(),this.addOutput('<span style="color: #FF6B6B;">‚èπ Background music stopped</span>')):t==="test"?(this.addOutput('<span style="color: #00FFFF;">Testing audio system...</span>'),this.addOutput(`Audio Context: ${o.audioContext?"‚úì Active":"‚úó Inactive"}`),this.addOutput(`Background Music: ${o.bgMusic?"‚úì Loaded":"‚úó Not loaded"}`),o.bgMusic&&(this.addOutput(`  - Duration: ${o.bgMusic.duration.toFixed(2)}s`),this.addOutput(`  - Paused: ${o.bgMusic.paused}`),this.addOutput(`  - Volume: ${(o.bgMusic.volume*100).toFixed(0)}%`),this.addOutput(`  - Current Time: ${o.bgMusic.currentTime.toFixed(2)}s`)),this.addOutput(`Analyser Node: ${o.analyserNode?"‚úì Connected":"‚úó Not connected"}`)):this.addOutput("Usage: audio [play/stop/test]<br>  play - Start background music<br>  stop - Stop background music<br>  test - Show audio system status")}toggleMatrix(){g.toggle()?(this.addOutput('<span style="color: #39FF14;">Matrix rain ACTIVATED ‚úì</span>'),o.playSound("success")):(this.addOutput('<span style="color: #FF6B6B;">Matrix rain DEACTIVATED</span>'),o.playSound("click"))}toggleParallaxEffect(){const t=r.effects.parallax;r.toggleEffect("parallax",!t),t?(this.addOutput('<span style="color: #FF6B6B;">Parallax effect DEACTIVATED</span>'),o.playSound("click")):(this.addOutput('<span style="color: #39FF14;">Parallax effect ACTIVATED ‚úì</span>'),o.playSound("success"))}toggleCursorEffect(){const t=r.effects.cursorTrail;r.toggleEffect("cursorTrail",!t),t?(this.addOutput('<span style="color: #FF6B6B;">Cursor trail DEACTIVATED</span>'),o.playSound("click")):(this.addOutput('<span style="color: #39FF14;">Cursor trail ACTIVATED ‚úì</span>'),o.playSound("success"))}toggleScanlinesEffect(){const t=r.effects.scanlines;r.toggleEffect("scanlines",!t),t?(this.addOutput('<span style="color: #FF6B6B;">Scanlines DEACTIVATED</span>'),o.playSound("click")):(this.addOutput('<span style="color: #39FF14;">Scanlines ACTIVATED ‚úì</span>'),o.playSound("success"))}toggleGlitchEffect(){const t=r.effects.glitch;r.toggleEffect("glitch",!t),t?(this.addOutput('<span style="color: #FF6B6B;">Glitch effect DEACTIVATED</span>'),o.playSound("click")):(this.addOutput('<span style="color: #39FF14;">Glitch effect ACTIVATED ‚úì</span>'),o.playSound("success"))}toggleParticlesEffect(){const t=r.effects.particles;r.toggleEffect("particles",!t),t?(this.addOutput('<span style="color: #FF6B6B;">Particles DEACTIVATED</span>'),o.playSound("click")):(this.addOutput('<span style="color: #39FF14;">Particles ACTIVATED ‚úì</span>'),o.playSound("success"))}setPerformance(t){if(!t||!["ultra","high","medium","low","auto"].includes(t.toLowerCase())){this.addOutput(`
Usage: performance [preset]<br>
<br>
Available presets:<br>
‚Ä¢ <span style="color: #FFD700;">ultra</span> - All effects enabled (high-end systems)<br>
‚Ä¢ <span style="color: #00FF00;">high</span> - Most effects enabled<br>
‚Ä¢ <span style="color: #FFA500;">medium</span> - Balanced performance<br>
‚Ä¢ <span style="color: #FF6B6B;">low</span> - Minimal effects (best performance)<br>
‚Ä¢ <span style="color: #00FFFF;">auto</span> - Automatic detection<br>
<br>
Current: <span style="color: #39FF14;">${r.currentPreset}</span>
            `);return}r.applyPreset(t.toLowerCase()),this.addOutput(`
<span style="color: #39FF14;">Performance preset changed to: ${t.toUpperCase()}</span><br>
<br>
Effects status:<br>
‚Ä¢ Matrix Rain: ${r.effects.matrixRain?"‚úì":"‚úó"}<br>
‚Ä¢ Parallax: ${r.effects.parallax?"‚úì":"‚úó"}<br>
‚Ä¢ Cursor Trail: ${r.effects.cursorTrail?"‚úì":"‚úó"}<br>
‚Ä¢ Scanlines: ${r.effects.scanlines?"‚úì":"‚úó"}<br>
‚Ä¢ Glitch: ${r.effects.glitch?"‚úì":"‚úó"}<br>
‚Ä¢ Particles: ${r.effects.particles?"‚úì":"‚úó"}
        `),o.playSound("success")}setMatrixFPS(t){if(!t){this.addOutput(`
Usage: fps [number]<br>
<br>
Set Matrix rain frame rate (12-60 FPS)<br>
Current FPS: <span style="color: #39FF14;">${g.fps}</span><br>
<br>
Recommendations:<br>
‚Ä¢ 12-18 FPS - Low-end systems<br>
‚Ä¢ 24 FPS - Balanced (default)<br>
‚Ä¢ 30 FPS - Smooth animation<br>
‚Ä¢ 60 FPS - High-end systems only
            `);return}const e=parseInt(t);if(isNaN(e)||e<12||e>60){this.addOutput('<span style="color: #FF6B6B;">Error: FPS must be between 12 and 60</span>');return}g.fps=e,g.frameInterval=1e3/e,this.addOutput(`
<span style="color: #39FF14;">Matrix rain FPS set to: ${e}</span><br>
Frame interval: ${g.frameInterval.toFixed(2)}ms
        `),o.playSound("success")}showTime(){const t=new Date;this.addOutput(`
SYSTEM_TIME: ${t.toTimeString()}<br>
DATE: ${t.toDateString()}<br>
TIMESTAMP: ${t.getTime()}
        `)}whoami(){this.addOutput(`
USER: visitor@kaitoartz.dev<br>
ACCESS_LEVEL: PUBLIC<br>
SESSION_ID: ${Math.random().toString(36).substr(2,9).toUpperCase()}<br>
IP: 127.0.0.1 (localhost)<br>
STATUS: <span style="color: #00ff00;">AUTHENTICATED</span>
        `)}listFiles(){this.addOutput(`
<span style="color: #00ff00;">drwxr-xr-x</span>  portfolio/<br>
<span style="color: #00ff00;">drwxr-xr-x</span>  projects/<br>
<span style="color: #00ff00;">drwxr-xr-x</span>  skills/<br>
<span style="color: #ffffff;">-rw-r--r--</span>  README.txt<br>
<span style="color: #ffffff;">-rw-r--r--</span>  about.txt<br>
<span style="color: #ffffff;">-rw-r--r--</span>  contact.txt
        `)}readFile(t){const e={"README.txt":'Welcome to KAITOARTZ terminal interface. Type "help" for commands.',"about.txt":"VR Developer specializing in immersive experiences and real-time rendering.","contact.txt":'Contact info available via "contact" command.'};e[t]?this.addOutput(e[t]):this.addOutput(`cat: ${t}: No such file or directory`)}konamiCode(){this.addOutput(`
<span style="color: #ff00ff;">‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó</span><br>
<span style="color: #ff00ff;">‚ïë  üéÆ KONAMI CODE ACTIVATED!  ‚ïë</span><br>
<span style="color: #ff00ff;">‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù</span><br>
<br>
<span style="color: #00ff00;">‚ñà‚ñÄ‚ñÄ ‚ñà‚ñÄ‚ñà ‚ñà‚ñÑ‚ñë‚ñà ‚ñà‚ñÄ‚ñÄ ‚ñà‚ñÄ‚ñà ‚ñÑ‚ñÄ‚ñà ‚ñÄ‚ñà‚ñÄ ‚ñà‚ñÄ</span><br>
<span style="color: #00ff00;">‚ñà‚ñÑ‚ñÑ ‚ñà‚ñÑ‚ñà ‚ñà‚ñë‚ñÄ‚ñà ‚ñà‚ñÑ‚ñà ‚ñà‚ñÄ‚ñÑ ‚ñà‚ñÄ‚ñà ‚ñë‚ñà‚ñë ‚ñÑ‚ñà</span><br>
<br>
Achievement unlocked: Retro Gamer<br>
+30 XP | Secret mode enabled
        `),document.body.style.animation="rainbow 2s infinite",setTimeout(()=>{document.body.style.animation=""},5e3)}matrixEffect(){this.addOutput(`
<span style="color: #00ff00;">Initializing Matrix protocol...</span><br>
<span style="color: #00ff00;">10101001 11010110 01101001</span><br>
<span style="color: #00ff00;">11001010 10110101 01010110</span><br>
<span style="color: #00ff00;">01101010 11010101 10101010</span><br>
<br>
<span style="color: #00ff00; animation: blink 1s infinite;">‚ñà CONNECTED TO THE MATRIX ‚ñà</span>
        `)}hackEffect(){this.addOutput('<span style="color: #ff0000;">Initiating hack sequence...</span>');const t=["Scanning network...","Found 3 vulnerabilities","Exploiting SQL injection...","Bypassing firewall...","Extracting data... 47%","Extracting data... 89%","Upload complete",'<span style="color: #00ff00;">ACCESS GRANTED</span>'];let e=0;t.forEach(i=>{setTimeout(()=>{this.addOutput(`> ${i}`)},e),e+=500})}}class st{constructor(){this.modal=null,this.backdrop=null}init(){this.modal=document.getElementById("shortcutsModal"),this.modal&&document.getElementById("shortcutsClose").addEventListener("click",()=>this.close())}open(){this.backdrop||(this.backdrop=document.createElement("div"),this.backdrop.className="modal-backdrop",this.backdrop.addEventListener("click",()=>this.close()),document.body.appendChild(this.backdrop)),this.modal.classList.add("active"),this.backdrop.classList.add("active"),document.body.classList.add("no-scroll"),o.playSuccess()}close(){this.modal.classList.remove("active"),this.backdrop&&this.backdrop.classList.remove("active"),document.body.classList.remove("no-scroll"),o.playClick()}}const P=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"];let w=0;const N=new tt,at=new et,S=new it,F=new st;class ot{constructor(){this.container=null,this.startTime=Date.now()}init(){this.container=document.querySelector(".tech-background"),this.container&&(this.updateTimestamp(),setInterval(()=>this.updateTimestamp(),1e3),this.updateUptime(),setInterval(()=>this.updateUptime(),1e3))}show(){this.container&&setTimeout(()=>{this.container.classList.add("visible")},500)}updateTimestamp(){const t=document.getElementById("techTimestamp");if(t){const e=new Date;t.textContent=e.toTimeString().split(" ")[0]}}updateUptime(){const t=document.getElementById("uptimeCounter");if(t){const e=Math.floor((Date.now()-this.startTime)/1e3),i=Math.floor(e/60),s=e%60;t.textContent=`${i.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}}}const nt=new ot;class rt{constructor(){this.container=null,this.skills=[{name:"UNITY_ENGINE",value:95,color:"#39FF14",icon:"fa-brands fa-unity",code:"U-3D"},{name:"C# / SCRIPTING",value:95,color:"#39FF14",icon:"fa-solid fa-code",code:"CS-90"},{name:"VR / XR DEV",value:90,color:"#00FFFF",icon:"fa-solid fa-vr-cardboard",code:"XR-V2"},{name:"HLSL / SHADERS",value:85,color:"#FF00CC",icon:"fa-solid fa-wand-magic-sparkles",code:"SH-FX"},{name:"3D OPTIMIZATION",value:90,color:"#00FFFF",icon:"fa-solid fa-gauge-high",code:"OPT-Z"},{name:"UNREAL_ENGINE",value:50,color:"#FFFF00",icon:"fa-solid fa-cube",code:"UE-05"}]}init(){this.container=document.getElementById("skillsGrid"),this.container&&this.render()}render(){this.container.innerHTML=this.skills.map((t,e)=>`
            <div class="skill-card-tech" style="--skill-color: ${t.color}; animation-delay: ${e*100}ms">
                <!-- Decorative Corner Cut -->
                <div class="card-corner-cut"></div>
                
                <div class="skill-main-content">
                    <div class="skill-header-row">
                        <span class="skill-id">ID_0${e+1} // ${t.code}</span>
                        <i class="skill-icon-small ${t.icon}"></i>
                    </div>
                    
                    <div class="skill-name-large">${t.name}</div>
                    
                    <div class="skill-bar-complex">
                        <div class="skill-bar-track">
                            <div class="skill-bar-fill" style="width: ${t.value}%"></div>
                        </div>
                        <div class="skill-value-number">${t.value}%</div>
                    </div>
                </div>

                <!-- Industrial Sidebar / Barcode -->
                <div class="skill-sidebar">
                    <div class="mini-barcode"></div>
                    <div class="warning-icon" title="High Voltage">‚ö°</div>
                </div>
            </div>
        `).join("")}}class lt{constructor(){this.awards=[{title:"NOVA - BEST ATMOSPHERE",event:"SANDA GAME JAM 2025",rank:"1ST PLACE",description:"Winner for Best Narratice & Atmosphere. Honorable mentions in UI and Inclusive Team.",icon:"fa-solid fa-trophy",color:"#FFD700"},{title:"CREHA BITAT",event:"SOCIAL IMPACT JAM 2024",rank:"2ND PLACE",description:"Recognition for social impact and educational value in video games.",icon:"fa-solid fa-medal",color:"#C0C0C0"},{title:"SHAPE KISSER",event:"GAME JAM ONLINE 2020",rank:"2ND PLACE",description:"Award for inclusive puzzle mechanics and accessibility design.",icon:"fa-solid fa-puzzle-piece",color:"#CD7F32"},{title:"BE THE HERO",event:"WOMEN GAME JAM 2025",rank:"FINALIST",description:"Developed in 48 hours. Explored ethical dilemmas and collaborative storytelling.",icon:"fa-solid fa-star",color:"#00FFFF"}],this.modal=null,this.backdrop=null}init(){if(this.modal=document.getElementById("awardsModal"),!this.modal)return;this.render();const t=document.getElementById("awardsBtn");t&&t.addEventListener("click",()=>this.open());const e=document.getElementById("awardsClose");e&&e.addEventListener("click",()=>this.close())}render(){const t=document.getElementById("awardsContainer");t&&(t.innerHTML=this.awards.map((e,i)=>`
            <div class="award-card" style="--award-color: ${e.color};">
                <div class="award-icon-box">
                    <i class="${e.icon}" style="color: ${e.color};"></i>
                </div>
                <div class="award-content">
                    <div class="award-rank" style="color: ${e.color};">${e.rank}</div>
                    <div class="award-title">${e.title}</div>
                    <div class="award-event">${e.event}</div>
                    <div class="award-desc">${e.description}</div>
                </div>
                <div class="award-deco-corner"></div>
            </div>
        `).join(""))}open(){this.modal.classList.add("active"),document.body.classList.add("no-scroll"),o.playSuccess(),this.modal.onclick=t=>{t.target===this.modal&&this.close()},typeof anime<"u"&&anime({targets:".award-card",translateY:[50,0],opacity:[0,1],delay:anime.stagger(100,{start:200}),easing:"easeOutElastic(1, .6)"})}close(){this.modal.classList.remove("active"),document.body.classList.remove("no-scroll"),o.playClick()}}const ct=new lt;class dt{constructor(){this.container=null,this.notifications=[]}init(){this.container=document.getElementById("notificationsContainer")}show(t,e,i="info",s=5e3){if(!this.container)return;const n=Date.now(),l=document.createElement("div");l.className=`notification ${i}`,l.dataset.id=n,l.innerHTML=`
            <div class="notification-header">
                <div class="notification-title">${t}</div>
                <button class="notification-close" aria-label="Close Notification">&times;</button>
            </div>
            <div class="notification-message">${e}</div>
        `,this.container.appendChild(l),l.querySelector(".notification-close").addEventListener("click",()=>{this.remove(n)}),s>0&&setTimeout(()=>this.remove(n),s),this.notifications.push({id:n,element:l})}remove(t){const e=this.notifications.find(i=>i.id===t);e&&(e.element.classList.add("removing"),setTimeout(()=>{e.element.remove(),this.notifications=this.notifications.filter(i=>i.id!==t)},300))}success(t,e,i=5e3){this.show(t,e,"success",i)}error(t,e,i=5e3){this.show(t,e,"error",i)}warning(t,e,i=5e3){this.show(t,e,"warning",i)}info(t,e,i=5e3){this.show(t,e,"info",i)}}class ht{constructor(){this.canvas=null,this.ctx=null,this.analyser=null,this.dataArray=null,this.bufferLength=0,this.active=!1,this.animationId=null,this.gradientCache=[],this.lastHeight=0,this.draw=this.draw.bind(this)}init(t){if(this.canvas=document.getElementById("audioVisualizer"),!!this.canvas)if(this.ctx=this.canvas.getContext("2d"),this.observer=new IntersectionObserver(e=>{e.forEach(i=>{i.isIntersecting&&this.analyser?this.start():this.stop(!1)})}),this.observer.observe(this.canvas),t&&t.analyserNode){this.analyser=t.analyserNode,this.bufferLength=this.analyser.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength);const e=document.getElementById("visualizerStatus");e&&(e.textContent="ACTIVE")}else this.drawStandby()}start(){if(this.active||!this.analyser)return;this.active=!0,this.draw();const t=document.getElementById("visualizerStatus");t&&(t.textContent="ACTIVE")}stop(t=!0){if(this.active=!1,this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null),t){const e=document.getElementById("visualizerStatus");e&&(e.textContent="STANDBY"),this.drawStandby()}}draw(){if(!this.active)return;this.animationId=requestAnimationFrame(this.draw),this.analyser.getByteFrequencyData(this.dataArray);const t=this.ctx,e=this.canvas.width,i=this.canvas.height;t.fillStyle="rgba(0, 0, 0, 0.2)",t.fillRect(0,0,e,i),i!==this.lastHeight&&(this.gradientCache=[],this.lastHeight=i);const s=e/this.bufferLength*2.5;let n,l=0;for(let h=0;h<this.bufferLength;h++){const c=this.dataArray[h];if(c===0){l+=s+1;continue}if(n=c/255*i,!this.gradientCache[c]){const u=t.createLinearGradient(0,i-n,0,i);u.addColorStop(0,"#39FF14"),u.addColorStop(.5,"#00FFFF"),u.addColorStop(1,"#FF00FF"),this.gradientCache[c]=u}t.fillStyle=this.gradientCache[c],t.fillRect(l,i-n,s,n),l+=s+1}}drawStandby(){if(!this.canvas||!this.ctx)return;const t=this.ctx,e=this.canvas.width,i=this.canvas.height;t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(0,0,e,i),t.strokeStyle="#39FF14",t.lineWidth=2,t.beginPath(),t.moveTo(0,i/2);for(let s=0;s<e;s+=5)t.lineTo(s,i/2+Math.sin(s*.05)*10);t.stroke()}}class ut{constructor(){this.experiences=[{date:"OCT 2025 - PRESENT",title:"Desarrollador Unity",company:"IST (Instituto de Seguridad del Trabajo)",description:"Desarrollo de proyectos de Realidad Virtual y creaci√≥n de Experiencias Inmersivas."},{date:"AGO 2025 - AGO 2025",title:"Dise√±ador de Videojuegos",company:"SANDA (SANDA GAME JAM)",description:"Desarrollo de NOVA. 1er Lugar Mejor Atm√≥sfera/Narrativa. Menciones honor√≠ficas en UI y Equipo Inclusivo."},{date:"AGO 2025 - AGO 2025",title:"Programador Inform√°tico",company:"WOMEN GAME JAM CHILE",description:'Desarrollo de "Be The Hero" en 48 horas. Exploraci√≥n de dilemas √©ticos y trabajo colaborativo.'},{date:"FEB 2025 - JUN 2025",title:"Unity VR Dev & Animation",company:"STAFFY LTDA.",description:"Frameworks VR para MetaQuest 3. Optimizaci√≥n t√©cnica, modelado 3D (Blender) y liderazgo de proyectos."},{date:"MAR 2021 - DIC 2025",title:"Licenciatura en Artes y Tecnolog√≠as",company:"UNIACC",description:"Comunicador Digital: Dise√±o y Desarrollo de Videojuegos. Formaci√≥n en arte, tecnolog√≠as y gesti√≥n de proyectos."},{date:"JUL 2024 - OCT 2024",title:"Unity Developer",company:"DREAMS OF HEAVEN",description:"Desarrollo multiplataforma, C#, herramientas de editor y plugins personalizados para optimizaci√≥n de flujos."},{date:"MAY 2024 - MAY 2024",title:"Desarrollador de Videojuegos",company:"KUWALA",description:'Desarrollo de "Creha Bitat", ganador del 2¬∫ Lugar en la Social Impact Game Jam 2024.'},{date:"ABR 2022 - ABR 2024",title:"T√©cnico Inform√°tico",company:"DUST2.GG",description:"Distribuci√≥n de componentes gaming y soluciones tecnol√≥gicas. Soporte y hardware."},{date:"ENE 2021 - NOV 2021",title:"Barista",company:"TAVELLI",description:"Gesti√≥n de comandas y atenci√≥n al cliente. Coordinaci√≥n multidisciplinaria."},{date:"SEP 2020 - SEP 2020",title:"Desarrollador Unity",company:"FFSTUDIOS SPA",description:'Desarrollo de "Shape Kisser", 2¬∫ Lugar en Game Jam Online 2020. Mec√°nicas de puzzle inclusivas.'},{date:"DIC 2021 - DIC 2022",title:"Inform√°tica y Comunicaciones",company:"DESAF√çO LATAM",description:"Associate's degree. Fundamentos de desarrollo web y flujos de trabajo."}]}init(){this.render()}render(){const t=document.getElementById("timelineContainer");t&&(t.innerHTML=this.experiences.map(e=>`
            <div class="timeline-item" style="opacity: 0; transform: translateX(-20px);">
                <div class="timeline-dot"></div>
                <div class="timeline-date">${e.date}</div>
                <div class="timeline-title">${e.title}</div>
                <div class="timeline-company">${e.company}</div>
                <div class="timeline-description">${e.description}</div>
            </div>
        `).join(""),typeof anime<"u"&&anime({targets:".timeline-item",opacity:[0,1],translateX:[-20,0],delay:anime.stagger(150),easing:"easeOutQuad",duration:800}))}}class mt{constructor(){this.canvas=null,this.ctx=null,this.columns=0,this.drops=[],this.fontSize=16,this.characters="ÔΩ±ÔΩ≤ÔΩ≥ÔΩ¥ÔΩµÔΩ∂ÔΩ∑ÔΩ∏ÔΩπÔΩ∫ÔΩªÔΩºÔΩΩÔΩæÔΩøÔæÄÔæÅÔæÇÔæÉÔæÑÔæÖÔæÜÔæáÔæàÔæâÔæäÔæãÔæåÔæçÔæéÔæèÔæêÔæëÔæíÔæìÔæîÔæïÔæñÔæóÔæòÔæôÔæöÔæõÔæúÔæù0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.charLength=this.characters.length,this.charArray=this.characters.split(""),this.randomIndices=new Uint8Array(4096),this.randomIndex=0,this.fillRandomBuffer(),this.animationId=null,this.isActive=!1,this.fps=24,this.lastFrameTime=0,this.frameInterval=1e3/this.fps,this.draw=this.draw.bind(this)}fillRandomBuffer(){for(let t=0;t<this.randomIndices.length;t++)this.randomIndices[t]=Math.floor(Math.random()*this.charLength)}init(){this.canvas=document.getElementById("matrixCanvas"),this.canvas&&(this.ctx=this.canvas.getContext("2d"),this.resize(),window.addEventListener("resize",B(()=>this.resize(),200)),r.registerEffect("matrixRain",this),r.effects.matrixRain&&this.start())}resize(){const t=r.currentPreset;let e=1;t==="low"?e=.5:r.hardware.isMobile?e=1:e=Math.min(window.devicePixelRatio,2),this.logicalWidth=window.innerWidth,this.logicalHeight=window.innerHeight,this.canvas.width=this.logicalWidth*e,this.canvas.height=this.logicalHeight*e,this.ctx.scale(e,e),this.columns=Math.floor(this.logicalWidth/this.fontSize),this.drops=Array(this.columns).fill(1),this.ctx.font=`${this.fontSize}px monospace`}draw(t=0){this.isActive&&(this.animationId=requestAnimationFrame(this.draw));const e=t-this.lastFrameTime;if(e<this.frameInterval)return;this.lastFrameTime=t-e%this.frameInterval,this.ctx.fillStyle="rgba(0, 0, 0, 0.08)",this.ctx.fillRect(0,0,this.logicalWidth||window.innerWidth,this.logicalHeight||window.innerHeight),this.ctx.fillStyle="#39FF14";const i=typeof r<"u"&&r.currentPreset==="ultra"?1:2;for(let s=0;s<this.drops.length;s+=i){const n=this.randomIndices[this.randomIndex],l=this.charArray[n];this.randomIndex=this.randomIndex+1&4095;const h=s*this.fontSize,c=this.drops[s]*this.fontSize;this.ctx.fillText(l,h,c),c>this.canvas.height&&Math.random()>.975&&(this.drops[s]=0),this.drops[s]++}}start(t=!1){!t&&typeof k<"u"&&k.state.active||this.isActive||(this.isActive=!0,this.canvas.style.opacity="0.15",this.draw())}stop(){this.isActive=!1,this.canvas.style.opacity="0",this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}toggle(){return this.isActive?(this.stop(),!1):(this.start(),!0)}}class pt{constructor(){this.layers=[],this.lastScrollY=0,this.ticking=!1}init(){const t=document.querySelectorAll(".parallax-layer");t.length!==0&&(this.items=Array.from(t).map(e=>({el:e,speed:parseFloat(e.dataset.speed)||.5})),window.addEventListener("scroll",()=>this.requestTick(),{passive:!0}),r.registerEffect("parallax",this),r.effects.parallax||this.items.forEach(e=>e.el.style.display="none"),x("Parallax initialized with",this.items.length,"layers"))}requestTick(){r.effects.parallax&&(this.ticking||(window.requestAnimationFrame(()=>this.update()),this.ticking=!0))}update(){this.lastScrollY=window.scrollY,this.items.forEach(t=>{const e=-(this.lastScrollY*t.speed);t.el.style.transform=`translate3d(0, ${e}px, 0)`}),this.ticking=!1}}class ft{constructor(){this.form=null,this.nameInput=null,this.emailInput=null,this.messageInput=null,this.submitBtn=null,this.statusDiv=null}init(){this.form=document.querySelector(".contact-form"),this.form&&(this.nameInput=document.getElementById("contactName"),this.emailInput=document.getElementById("contactEmail"),this.messageInput=document.getElementById("contactMessage"),this.submitBtn=document.getElementById("submitBtn"),this.statusDiv=document.getElementById("formStatus"),this.attachListeners())}attachListeners(){this.nameInput.addEventListener("blur",()=>this.validateField(this.nameInput,"name")),this.emailInput.addEventListener("blur",()=>this.validateField(this.emailInput,"email")),this.messageInput.addEventListener("blur",()=>this.validateField(this.messageInput,"message")),this.form.addEventListener("submit",t=>this.handleSubmit(t)),[this.nameInput,this.emailInput,this.messageInput].forEach(t=>{t.addEventListener("input",()=>{t.classList.remove("error");const e=t.nextElementSibling;e&&e.classList.contains("form-error")&&(e.classList.remove("show"),e.textContent="")})})}validateField(t,e){const i=t.value.trim(),s=t.nextElementSibling;let n="";switch(e){case"name":i.length<2&&(n="ERROR: NAME_IDENTIFIER TOO SHORT");break;case"email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)||(n="ERROR: INVALID EMAIL_PROTOCOL");break;case"message":i.length<10&&(n="ERROR: MESSAGE_PAYLOAD INSUFFICIENT");break}return n?(t.classList.add("error"),s.textContent=n,s.classList.add("show"),o.playSound("error"),!1):!0}validateAll(){const t=this.validateField(this.nameInput,"name"),e=this.validateField(this.emailInput,"email"),i=this.validateField(this.messageInput,"message");return t&&e&&i}async handleSubmit(t){if(t.preventDefault(),!this.validateAll()){this.showStatus("VALIDATION_ERROR: CHECK ALL FIELDS","error");return}this.submitBtn.disabled=!0,this.submitBtn.classList.add("transmitting"),this.showStatus("TRANSMITTING_DATA...","transmitting");const e={name:this.nameInput.value.trim(),email:this.emailInput.value.trim(),message:this.messageInput.value.trim(),timestamp:new Date().toISOString()};try{if(!(await fetch("https://formspree.io/f/mgovdlpb",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Network response was not ok");this.showStatus("TRANSMISSION_SUCCESSFUL ‚úì","success"),o.playSound("success"),I.show("Message transmitted successfully!","success"),this.form.reset()}catch(i){console.error("Form submission error:",i),this.showStatus("TRANSMISSION_FAILED: TRY AGAIN","error"),o.playSound("error"),I.show("Transmission error. Please retry.","error")}finally{this.submitBtn.disabled=!1,this.submitBtn.classList.remove("transmitting")}}showStatus(t,e){this.statusDiv.textContent=t,this.statusDiv.className="form-status show "+e,setTimeout(()=>{this.statusDiv.classList.remove("show")},5e3)}}class gt{constructor(){this.burgerBtn=null,this.panel=null,this.closeBtn=null,this.dock=null,this.isOpen=!1,this.isDockExpanded=!1}init(){this.burgerBtn=document.getElementById("burgerMenu"),this.panel=document.getElementById("settingsPanel"),this.closeBtn=document.getElementById("settingsClose"),this.dock=document.querySelector(".control-dock"),!(!this.burgerBtn||!this.panel||!this.dock)&&(this.burgerBtn.addEventListener("click",t=>this.handleBurgerClick(t)),this.closeBtn.addEventListener("click",()=>this.close()),this.dock.addEventListener("mouseenter",()=>{!this.isDockExpanded&&!this.isOpen&&this.expandDock()}),this.dock.addEventListener("mouseleave",()=>{this.isDockExpanded&&!this.isOpen&&this.collapseDock()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&this.isOpen&&this.close()}),document.addEventListener("click",t=>{this.isOpen&&!this.panel.contains(t.target)&&!this.burgerBtn.contains(t.target)&&this.close()}))}handleBurgerClick(t){t.stopPropagation(),!this.isOpen&&!this.isDockExpanded?this.toggleDock():this.toggle()}toggleDock(){this.isDockExpanded?this.collapseDock():this.expandDock()}expandDock(){this.dock.classList.remove("collapsed"),this.dock.dataset.expanded="true",this.isDockExpanded=!0,o.playSound("click")}collapseDock(){this.isOpen||(this.dock.classList.add("collapsed"),this.dock.dataset.expanded="false",this.isDockExpanded=!1,o.playSound("click"))}toggle(){this.isOpen?this.close():this.open()}open(){this.expandDock(),this.panel.classList.add("active"),this.burgerBtn.classList.add("active"),this.burgerBtn.setAttribute("aria-expanded","true"),this.isOpen=!0,setTimeout(()=>{this.dock.classList.add("hidden")},100),o.playSound("click")}close(){this.panel.classList.remove("active"),this.burgerBtn.classList.remove("active"),this.burgerBtn.setAttribute("aria-expanded","false"),this.isOpen=!1,this.dock.classList.remove("hidden"),o.playSound("click")}}class yt{constructor(){this.currentLang="es",this.langBtn=null}init(){this.langBtn=document.getElementById("langToggleBtn"),this.langBtn&&this.langBtn.addEventListener("click",()=>{const i=this.currentLang==="es"?"en":"es";this.switchLanguage(i)}),document.querySelectorAll(".lang-toggle").forEach(i=>{i.addEventListener("click",()=>{const s=i.dataset.lang;this.switchLanguage(s)})});const e=localStorage.getItem("language");e&&this.switchLanguage(e)}switchLanguage(t){if(this.currentLang=t,localStorage.setItem("language",t),this.langBtn){const e=this.langBtn.querySelector(".lang-text");e&&(e.textContent=t.toUpperCase())}document.querySelectorAll(".lang-toggle").forEach(e=>{e.classList.toggle("active",e.dataset.lang===t)}),document.querySelectorAll("[data-en]").forEach(e=>{e.textContent=e.dataset[t]||e.dataset.en}),o.playSound("click"),console.log("Language switched to:",t)}}class vt{constructor(){this.themeBtn=null,this.audioBtn=null}init(){this.themeBtn=document.getElementById("themeToggleBtn"),this.audioBtn=document.getElementById("audioToggleBtn"),this.themeBtn&&this.themeBtn.addEventListener("click",()=>this.toggleTheme()),this.updateThemeButton(),this.audioBtn&&this.audioBtn.addEventListener("click",()=>this.toggleAudio()),this.updateAudioButton()}toggleTheme(){v.handleToggle({}),this.updateThemeButton(),o.playSound("click")}updateThemeButton(){const t=v.theme==="dark";if(this.themeBtn){const e=this.themeBtn.querySelector(".theme-icon")||this.themeBtn.querySelector("i");e&&(e.tagName==="I"?e.className=t?"fa-solid fa-sun":"fa-solid fa-moon":e.textContent=t?"‚òÄ":"üåô")}}toggleAudio(){o.bgMusic&&!o.bgMusic.paused?(o.stopBackgroundMusic(),this.updateAudioButton(!1)):(o.playBackgroundMusic(.3),this.updateAudioButton(!0)),o.playSound("click")}updateAudioButton(t=null){const e=t!==null?t:o.bgMusic&&!o.bgMusic.paused;if(this.audioBtn){const i=this.audioBtn.querySelector(".audio-icon")||this.audioBtn.querySelector("i");i&&(i.tagName==="I"?i.className=e?"fa-solid fa-volume-high":"fa-solid fa-volume-xmark":i.textContent=e?"üîä":"üîá"),e?this.audioBtn.classList.add("active"):this.audioBtn.classList.remove("active")}}}class bt{constructor(){this.lightbox=null,this.image=null,this.closeBtn=null}init(){this.lightbox=document.getElementById("projectLightbox"),this.image=document.getElementById("lightboxImage"),this.closeBtn=document.getElementById("lightboxClose"),this.lightbox&&(this.closeBtn.addEventListener("click",()=>this.close()),this.lightbox.addEventListener("click",t=>{t.target===this.lightbox&&this.close()}),document.addEventListener("click",t=>{t.target.classList.contains("project-image")&&this.open(t.target.src)}))}open(t){this.image.src=t,this.lightbox.classList.add("active"),document.body.classList.add("no-scroll"),o.playSound("click")}close(){this.lightbox.classList.remove("active"),document.body.classList.remove("no-scroll"),o.playSound("click")}}const C=[{id:"01",title:"CREHA_BITACORA",category:"unity",description:"Juego educativo sobre corredores biologicos",image:"assets/projects/crehabitat.webp",tech:["UNITY","C#","MOBILE"],link:"https://kaitoartz.itch.io/crehabitat"},{id:"02",title:"CANDY_PARTY",category:"unity",description:"Juego de fiesta con tem√°tica de dulces.",image:"assets/projects/candyparty.webp",tech:["UNITY","C#","MOBILE"],link:"https://kaitoartz.itch.io/candy-party"},{id:"03",title:"SHAPE_KISSER",category:"unity",description:"Juego de puzzle con tem√°tica de formas geom√©tricas.",image:"https://img.itch.zone/aW1nLzQyMzU1MDUucG5n/347x500/SM7ekS.png",tech:["UNITY","C#","MOBILE"],link:"https://kaitoartz.itch.io/shapekisser"},{id:"04",title:"DETECTOR_CAMERA",category:"web",description:"Detector de postura con Mediapipe.",image:"assets/projects/mediapipe.webp",tech:["HTML","CSS","JS","MEDIAPIPE"],link:"https://desarrolladorvr.github.io/"},{id:"04",title:"PORTAL_JUEGOS",category:"web",description:"Portal Web de Juegos Educativos.",image:"assets/projects/IstGames.webp",tech:["HTML","CSS","JS"],link:"https://istgames.netlify.app/"},{id:"05",title:"METAVERSE_AVATAR",category:"3d",description:"High-fidelity avatar system with facial tracking.",image:"https://placehold.co/600x400/111/39FF14?text=METAVERSE",tech:["BLENDER","UNITY","LIP_SYNC"],link:"#"},{id:"06",title:"WEBGL_PORTFOLIO",category:"web",description:"Immersive 3D portfolio using Three.js.",image:"https://placehold.co/600x400/111/39FF14?text=WEBGL",tech:["THREE.JS","REACT","WEBGL"],link:"#"},{id:"07",title:"DARALI_DEVEL",category:"unreal",description:"Horror game development project.",image:"https://img.itch.zone/aW1hZ2UvMzEzNzgyMi8xOTA2NjM0OC5qcGc=/original/%2Bw3lwe.jpg",tech:["UNREAL_ENGINE","C++","HORROR"],link:"https://corejeux.itch.io/darali-devel"},{id:"08",title:"UNITY_OPTIMIZER",category:"3d",description:"Suite Open Source para gesti√≥n de assets. Reduce tiempos de importaci√≥n en un 40%. Valoraci√≥n 4.8/5.",image:"https://placehold.co/600x400/111/39FF14?text=TOOLS",tech:["TOOLING","C#","EDITOR_SCRIPTING"],link:"https://github.com/kaitoartz"}];class Et{constructor(){this.container=document.getElementById("projectsGrid"),this.filterBtns=document.querySelectorAll(".filter-btn"),this.activeFilter="all"}init(){this.container&&(this.renderProjects(C),this.filterBtns.forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.filter;this.setFilter(e),this.filterBtns.forEach(i=>i.classList.remove("active")),t.classList.add("active"),o.playClick()})}))}renderProjects(t){this.container.innerHTML=t.map((e,i)=>`
            <div class="project-card" data-category="${e.category}" style="animation-delay: ${i*100}ms">
                <div class="project-image-container">
                    <img src="${e.image}" 
                         alt="${e.title}" 
                         class="project-image" 
                         loading="lazy" 
                         decoding="async"
                         onerror="this.src='https://placehold.co/600x400/111/39FF14?text=NO_IMG'">
                    <div class="project-overlay">
                        <button class="view-project-btn" onclick="audioManager.playClick(); window.open('${e.link}', '_blank')">VIEW_DATA</button>
                    </div>
                </div>
                <div class="project-info">
                    <div class="project-header">
                        <span class="project-id">ID_${e.id}</span>
                        <span class="project-category">${e.category.toUpperCase()}</span>
                    </div>
                    <h3 class="project-title">${e.title}</h3>
                    <p class="project-desc">${e.description}</p>
                    <div class="project-tech">
                        ${e.tech.map(s=>`<span>${s}</span>`).join("")}
                    </div>
                </div>
            </div>
        `).join("")}setFilter(t){this.activeFilter=t,Array.from(this.container.children).forEach(i=>i.classList.add("filtering-out")),setTimeout(()=>{const i=t==="all"?C:C.filter(s=>s.category===t);this.renderProjects(i)},300)}}class It{constructor(){this.modal=null,this.iframe=null,this.videoId="1157471071",this.videoHash="c3e7f59c16"}init(){if(this.modal=document.getElementById("videoModal"),this.iframe=document.getElementById("vimeoPlayer"),!this.modal||!this.iframe)return;const t=document.getElementById("vrVideoBtn"),e=document.getElementById("videoClose");t&&t.addEventListener("click",i=>{i.preventDefault(),this.open()}),e&&e.addEventListener("click",()=>this.close()),this.modal.addEventListener("click",i=>{i.target===this.modal&&this.close()})}open(){this.modal.classList.add("active"),document.body.classList.add("no-scroll"),typeof o<"u"&&o.playSuccess();const t=document.getElementById("videoLoading"),e=document.getElementById("videoStatus");if(t&&(t.style.display="flex"),e&&(e.innerText="INITIALIZING..."),!navigator.onLine){e&&(e.innerText="OFFLINE // DATA_UNAVAILABLE");return}this.iframe.src=`https://player.vimeo.com/video/${this.videoId}?h=${this.videoHash}&autoplay=1&title=0&byline=0&portrait=0`,this.loadTimeout=setTimeout(()=>{t&&t.style.display!=="none"&&e&&(e.innerText="WARN: SLOW CONNECTION...")},5e3),this.iframe.onload=()=>{clearTimeout(this.loadTimeout),setTimeout(()=>{t&&(t.style.display="none")},500)}}close(){this.modal.classList.remove("active"),this.iframe.src="",document.body.classList.remove("no-scroll"),typeof o<"u"&&o.playHover()}}const wt=new It;class St{constructor(){this.observer=null,this.elements=[]}init(){this.elements=document.querySelectorAll(".grid-item");const t={root:null,rootMargin:"0px",threshold:.1};this.observer=new IntersectionObserver(e=>{e.forEach(i=>{i.isIntersecting&&(i.target.classList.add("reveal"),this.observer.unobserve(i.target))})},t),this.elements.forEach(e=>this.observer.observe(e)),console.log("Scroll Reveal initialized with",this.elements.length,"elements")}}const Tt=new rt,At=new Et,I=new dt,M=new ht,xt=new ut,g=new mt,Lt=new pt,Ct=new ft,Mt=new gt,kt=new yt,Ft=new vt,Bt=new bt,Ot=new St;document.addEventListener("DOMContentLoaded",()=>{r.init(),Mt.init(),Ft.init(),kt.init(),Ct.init(),At.init();const a=()=>{try{at.init(),S.init(),F.init(),ct.init(),wt.init(),Bt.init(),I.init(),xt.init(),Tt.init(),Ot.init(),window.innerWidth>767&&(N.init(),r.registerEffect("cursor",N)),nt.init(),Lt.init(),g.init(),x("%c>> SYSTEM: Deferred modules loaded ‚úì","color: #39FF14; font-weight: bold; font-family: monospace;");const t=document.getElementById("terminalButton");t&&t.addEventListener("click",()=>S.open()),setTimeout(()=>{if(document.querySelector(".dashboard")?.classList.contains("visible")){const e=r.currentPreset.toUpperCase(),i=r.hardware.tier.toUpperCase();I.success("SYSTEM_ONLINE",`Performance preset: ${e} | Hardware tier: ${i}`)}},2e3)}catch(t){console.error("%c>> ERROR: Deferred init failed","color: #FF6B6B; font-family: monospace;",t)}};"requestIdleCallback"in window?requestIdleCallback(()=>a(),{timeout:2e3}):setTimeout(a,200)});
